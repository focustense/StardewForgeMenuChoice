# Pick Your Enchantment/ForgeMenuChoice

*"1000g, a stack of healing/buff items and an hour of grinding for a single RNG chance? No thanks."*

![Header image](docs/tools.gif)

This mod lets you pick your enchantment at the forge. No longer do you have to save scum to get the enchantment you wanted! Just place your tool or weapon in the left slot, and a prismatic shard in the right, and use the little arrows to select your new enchantment!

## Install

1. Install the latest version of [SMAPI](https://smapi.io).
2. Download the [latest release](https://github.com/focustense/StardewForgeMenuChoice/releases). Make sure you download the `ForgeMenuChoice x.y.z.zip` file, **not** the source code.
2. Open the .zip file and extract the `ForgeMenuChoice` folder into your `Stardew Valley\Mods` folder.
3. Launch the game!

## Configuration

Run SMAPI with the mod installed at least once to generate the `config.json` file, or use Generic Mod Config Menu to configure.

<details>
<summary>Example Configuration</summary>

```json
{
  "TooltipBehavior": "Immersive",
  "EnableTooltipAutogeneration": true,
  "LeftArrow": "LeftShoulder, Left",
  "RightArrow": "RightShoulder, Right",
  "OverrideInnateEnchantments": false
}
```
</details>

### Settings

* `TooltipBehavior`: Controls whether tooltips are displayed on mouse hover. Options are: `On`, `Off`, or `Immersive`, where `Immersive` (default) only makes the tooltips appear if any farmer has seen Journal Scrap 8.
* `EnableTooltipAutogeneration`: the data for the tooltips is parsed from Journal Scrap 8; if you have a mod that edits that, you may want to disable tooltips or remove automatic tooltip generation.
* `OverrideInnateEnchantments`: Toggles whether or not [Innate Enchantments](https://stardewvalleywiki.com/Forge#Innate_enchantments) can also be selected. Only one innate can be selected at a time, and it will replace *all* previous innates; this means you can consistently put "good" innates on a weapon, but if you want the very _best_ combinations of innates (e.g. min-maxing) then you'll have to disable this and submit to the RNG.
* `LeftArrow` and `RightArrow` change the key bindings to select the previous/next available enchantment. By default they include `LeftShoulder` and `RightShoulder` to support gamepads.

## Patching (for mod authors)

Pick Your Enchantment provides a few options for authors of forge/enchantment mods to add their own compatibility, using either SMAPI or Content Patcher:

- Re-skins can replace the menu textures by patching `Mods/atravita_ForgeMenuChoice_Forge_Buttons`.
- Tooltips for vanilla enchantments are automatically generated by inspecting Journal Scrap 9. Mods that change vanilla descriptions or add new enchantment types can patch `Mods/atravita_ForgeMenuChoice_Tooltip_Data`.

***Note:** The asset paths are intentionally unchanged from the original (Atravita) mod in order to maintain backward compatibility with mods that already patch these assets.*

## Uninstall
Simply delete the mod from your Mods directory.

## Compatibility

* Works with Stardew Valley 1.6 on Linux/macOS/Windows.
* Works in single player, multiplayer, and split-screen mode. Should be fine if installed for one player only.
* Majority of popular mods (e.g. SpaceCore, and mods using it to add forge recipes) will be compatible.
* This version is **not** compatible with [Enchantable Scythes](https://www.nexusmods.com/stardewvalley/mods/10668). Compatibility **may** be restored in the future.
* Other mods that do any of the following may have various degrees of incompatibility:
  * Changing the Forge menu's layout or overall appearance
  * Modifying vanilla enchantments or recipes
  * Changing the behavior of melee weapons or adding new weapons with novel behavior.


## Questions/Bugs?

Feel free to either:

* Create a [GitHub issue](https://github.com/focustense/StardewForgeMenuChoice/issues); when doing so, please follow bug-reporting etiquette. Check first for similar reports, and make sure to include all relevant details about your issue, especially including clear repro steps and/or [SMAPI log](https://smapi.io/log).
* Or, ping me on the [SV Discord](https://discord.com/invite/stardewvalley) if I happen to be around. Discord is best if you have a quick question, but I make no promises re: availability for in-depth troubleshooting.

## See also

- [Changelog](CHANGELOG.md)

- [Original mod by Atravita](https://github.com/atravita-mods/StardewMods/tree/8a885849ae3dd933bf795262368cadadc6bea8f8/ForgeMenuChoice/ForgeMenuChoice)
